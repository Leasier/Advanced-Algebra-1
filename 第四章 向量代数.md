# 第四章 向量代数

### 距离 distance

在空间 $\chi$ 中，定义距离为一个二元函数 $d : \chi \times \chi \to \mathbb{R}$，其满足：

- (1) 对称性：$d(A, B) = d(B, A)$。
- (2) 正定性：$d(A, B) \geq 0$ 且 $d(A, B) = 0 \Leftrightarrow A = B$。
- (3) 三角形不等式：$d(A, B) \leq d(A, C) + d(C, B)$。

满足上述条件的“距离”例如：

- (1) 平庸距离 $d(A, B) = [A \neq B]$。
- (2) $\mathbb{R}^n$ 中的欧氏距离。

在本章中，我们主要讨论 $\mathbb{R}^3$ 中的问题。

### 几何向量 vector

#### 定义：几何向量

- 这里需要承认**线段全等公理**（过任意一点可作唯一线段与已知线段全等）和**平行公理**（过任意一点可作唯一直线与已知直线平行）。
- 原因在于几何向量不关心“起点”，它只关心“长度”和“方向”。因此，它可以被视作空间中若干线段的“等价类”。

（几何）向量指既有长度也有方向的量，可以用代数向量的记号 $\mathbf{v}$ 表示，也可以用其始末 $\overrightarrow{AB}$ 来表示。特别地，我们称 $\overrightarrow{AA}$ 为零向量，又记作 $\mathbf{0}$，它没有特定的方向。

记 $|\overrightarrow{AB}|$ 向量 $\overrightarrow{AB}$ 的长度。特别地，$|\overrightarrow{AA}| = |\mathbf{0}| = 0$。

#### 定义：向量的数乘

- 这里需要承认**延长公理**（有限直线可以沿其方向无限延长），进而才能利用有理逼近构造长度为原向量任意正实数倍的向量。

对于任意 $\lambda \in \mathbb{R}$ 和向量 ，定义数乘运算 $\lambda \cdot \overrightarrow{AB}$：

- 若 $\lambda > 0$，定义 $\lambda \cdot \overrightarrow{AB}$ 为沿 $\overrightarrow{AB}$ 方向且长度为其 $\lambda$ 倍的向量。
- 若 $\lambda = 0$，定义 $\lambda \cdot \overrightarrow{AB} = \mathbf{0}$。
- 若 $\lambda < 0$，定义 $\lambda \cdot \overrightarrow{AB} = (-\lambda) \cdot \overrightarrow{BA}$。

#### 定义：单位向量

给定**非零**向量 $\overrightarrow{AB}$，定义该方向上的单位向量为 $\dfrac{1}{|\overrightarrow{AB}|} \cdot |\overrightarrow{AB}|$。

由向量的数乘的定义可知：单位向量的长度为 $1$。

#### 定义：向量的平行 / 共线

定义向量 $\mathbf{a}, \mathbf{b}$ 平行 / 共线当且仅当 $\exists \lambda \in \mathbb{R}, \text{s.t. } \mathbf{a} = \lambda \cdot \mathbf{b}$ 或 $\exists \mu \in \mathbb{R}, \mathbf{b} = \mu \cdot \mathbf{a}$，记作 $a \parallel b$。

根据定义，零向量与任意向量平行。

#### 定义：向量的加法

对于向量 $\overrightarrow{AB}, \overrightarrow{B'C'}$，如下定义两者间的加法：

- 作 $\overrightarrow{BC} = \overrightarrow{B' C'}$。
- 定义 $\overrightarrow{AB} + \overrightarrow{B'C'} \equiv \overrightarrow{AC}$。

#### 定义：相反向量与向量的减法

对于向量 $\mathbf{a}$，定义 $-\mathbf{a} \equiv (-1) \cdot \mathbf{a}$，称为其相反向量。

对于向量 $\mathbf{a}, \mathbf{b}$，定义向量的减法 $\mathbf{a} - \mathbf{b} \equiv \mathbf{a} + (-\mathbf{b})$。

------

不难证明这样定义的几何向量也满足前面讨论的代数向量的若干基本性质。

#### 范数 norm

对于线性空间 $G$，一个名为**范数**的映射 $||\mathbf{a}|| : G \to \mathbb{R}$ 应当满足：

- (1) 正定性：$||\mathbf{a}|| \geq 0$ 且 $||\mathbf{a}|| = 0 \Leftrightarrow \mathbf{a} = 0$。
- (2) 齐次性：$||\lambda \mathbf{a}|| = |\lambda| \cdot ||\mathbf{a}||$。
- (3) 三角形不等式：$||\mathbf{a} + \mathbf{b}|| \leq ||\mathbf{a}|| + ||\mathbf{b}||$。

一个给出范数定义的线性空间被称作赋范线性空间。

不难验证 $d(\mathbf{a}, \mathbf{b}) = ||\mathbf{a} - \mathbf{b}||$ 是 $G$ 上的一个距离，证明略。

##### 例子

$G$ 上范数的定义并不唯一：

- 欧氏距离 $||\mathbf{a}||_E$。
- $1-$ 范数 $||\mathbf{a}||_1$，其值为各维坐标绝对值之和。
- $\infty-$ 范数 $||\mathbf{a}||_{\infty}$，其值为各维坐标绝对值的最大值。

------

#### 定理：$\mathbf{a} \parallel \mathbf{b} \Leftrightarrow \exists \lambda, \mu \in \mathbb{R}$ 不全为 $0$，使得 $\lambda \mathbf{a} + \mu \mathbf{b} = 0$。

证明略。

#### 定义：直线 Line

对于点 $A$ 和**非零**向量 $\mathbf{a}$，定义直线 $L(A; \mathbf{a}) = \{B \mid \overrightarrow{AB} = \lambda \mathbf{a}, \lambda \in \mathbb{R}\}$。

#### 定义：平面 Plane

对于点 $O$ 和**不共线**向量 $\mathbf{a}, \mathbf{b}$，定义平面 $\Pi(O; \mathbf{a}, \mathbf{b}) = \{C \mid \overrightarrow{OC} = \lambda \mathbf{a} + \mu \mathbf{b}, \lambda, \mu \in \mathbb{R}\}$。

- 考虑 $\overrightarrow{OA} = \mathbf{a}, \overrightarrow{OB} = \mathbf{b}$，可以发现 $\overrightarrow{OA}, \overrightarrow{OB}$ 也能唯一确定该平面。
- 故称“两条相交直线确定一个平面”。

#### 定义：共面

我们称 $\mathbf{a}, \mathbf{b}, \mathbf{c}$ 共面，当且仅当 $\exists \Pi (O; \mathbf{x}, \mathbf{y}), \text{s.t. }$ 把 $\mathbf{a}, \mathbf{b}, \mathbf{c}$ 的起点置于 $O$ 时，另一端点 $A, B, C \in \Pi (O; x, y)$。

#### 定理：$\mathbf{a}, \mathbf{b}, \mathbf{c}$ 共面 $\Leftrightarrow \exists \lambda, \mu, \theta \in \mathbb{R}$ 非全零，$\text{s.t. } \lambda \mathbf{a} + \mu \mathbf{b} + \theta \mathbf{c} = \mathbf{0}$。

证明：

- $\Rightarrow$：(1) 若 $\mathbf{a}, \mathbf{b}$ 共线，令 $\theta = 0$，则由定义可知非全零的 $\lambda, \mu$ 存在。
- (2) 若 $\mathbf{a}, \mathbf{b}$ 不共线，将 $\mathbf{a}, \mathbf{b}, \mathbf{c}$ 的起点置于同一点 $O$ 时，其终点 $A, B, C$ 位于同一平面。
- 由于 $O, \mathbf{a}, \mathbf{b}$ 确定了平面 $\Pi (O; \mathbf{a}, \mathbf{b})$，则 $C \in \Pi (O; \mathbf{a}, \mathbf{b})$，故 $\exists \lambda, \mu, \text{s.t. } \mathbf{c} = \lambda \mathbf{a} + \mu \mathbf{b}$。令 $\theta = -1$ 即可。
- $\Leftarrow$：将 $\mathbf{a}, \mathbf{b}, \mathbf{c}$ 的起点置于同一点 $O$ 时，设其终点为 $A, B, C$。
- 由于 $\lambda, \mu, \theta$ 非全零，不妨设 $\theta \neq 0$，则 $\mathbf{c} = -\dfrac{\lambda}{\theta} \mathbf{a} - \dfrac{\mu}{\theta} \mathbf{b}$。
- (1) 若 $\mathbf{a}, \mathbf{b}$ 共线，不妨设 $\mathbf{b} = \alpha \mathbf{a}$，则 $\mathbf{c} = -\dfrac{\lambda + \mu \alpha}{\theta} \mathbf{a}$。
- I. 当 $\mathbf{a} = \mathbf{0}$，此时有 $\mathbf{b} = \mathbf{c} = \mathbf{0}$，则 $A = B = C = O$，任取过 $O$ 的平面即可。
- II. 当 $\mathbf{a} \neq \mathbf{0}$，则 $B, C$ 均在 $\overrightarrow{OA}$ 所在的直线上，任取 $\overrightarrow{OA}$ 所在的平面即可。
- (2) 若 $\mathbf{a}, \mathbf{b}$ 不共线，则 $\overrightarrow{OC} = \mathbf{c} = (-\dfrac{\lambda}{\theta}) \mathbf{a} + (-\dfrac{\mu}{\theta}) \mathbf{b}$，于是 $C \in \Pi (O; \mathbf{a}, \mathbf{b})$。
- 又因为 $A, B \in \Pi (O; \mathbf{a}, \mathbf{b})$，由定义可知 $\mathbf{a}, \mathbf{b}, \mathbf{c}$ 共面。
- _这里能取出“平面”的原因涉及三维空间的定义。_

#### 直线间的关系

对于直线 $L(A; \mathbf{a}), L(B; \mathbf{b})$：

- (1) 若 $\mathbf{a} \parallel \mathbf{b}$，设 $\mathbf{b} = \alpha \mathbf{a}$，其中 $\alpha \neq 0$。
- I. 当 $\overrightarrow{AB} \parallel \mathbf{a}$，设 $\overrightarrow{AB} = \beta \mathbf{a}$，则：

$$
\begin{aligned}
L(B; \mathbf{b}) &= \{C \mid \overrightarrow{BC} = \lambda \mathbf{b}, \lambda \in \mathbb{R}\} \\
&= \{C \mid \overrightarrow{AC} = \overrightarrow{AB} + \overrightarrow{BC} = (\beta + \lambda \alpha) \mathbf{a}, \lambda \in \mathbb{R}\} \\
&= \{C \mid \overrightarrow{AC} = \theta \mathbf{a}, \theta \in \mathbb{R}, \lambda = \dfrac{\theta - \beta}{\alpha} \in \mathbb{R}\} \\
&= L(A; \mathbf{a})
\end{aligned}
$$

- 此时称 $L(A; \mathbf{a}), L(B; \mathbf{b})$ **重合**。
- II. 当 $\overrightarrow{AB} \not\parallel \mathbf{a}$，假设 $\exists C \in L(A; \mathbf{a}) \cap L(B; \mathbf{b})$，则 $\begin{cases} \overrightarrow{AC} = \lambda \mathbf{a}, \lambda \in \mathbb{R} \\ \overrightarrow{BC} = \mu \mathbf{b}, \mu \in \mathbb{R} \end{cases} \Rightarrow \overrightarrow{AB} = \overrightarrow{AC} - \overrightarrow{BC} = (\lambda - \mu \alpha) \mathbf{a}$，于是 $\overrightarrow{AB} \parallel \mathbf{a}$，矛盾。故 $L(A; \mathbf{a}) \cap L(B; \mathbf{b}) = \emptyset$。
- 此时称 $L(A; \mathbf{a}), L(B; \mathbf{b})$ **平行**。
- (2) 若 $\mathbf{a} \not\parallel \mathbf{b}$。
- I. 当 $\overrightarrow{AB}$ 与 $\mathbf{a}, \mathbf{b}$ 共面，此时 $\exists ! \lambda, ! \mu \in \mathbb{R}, \text{s.t. } \overrightarrow{AB} = \lambda \mathbf{a} + \mu \mathbf{b}$。
- 断言 $L(A; \mathbf{a}) \cap L(B; \mathbf{b}) = \{C\}$，下为证明：
- 首先说明 $C$ **存在**：取 $\overrightarrow{AC} = \lambda \mathbf{a}$，则 $\overrightarrow{BC} = \overrightarrow{AC} - \overrightarrow{AB} = -\mu \mathbf{b}$，由定义知 $C \in L(A; \mathbf{a}), C \in L(B; \mathbf{b})$，故 $C \in L(A; \mathbf{a}) \cap L(B; \mathbf{b})$。
- 然后说明 $C$ **唯一**：若还存在 $C' \in L(A; \mathbf{a}) \cap L(B; \mathbf{b})$，设 $\overrightarrow{AC'} = \lambda' \mathbf{a}, \overrightarrow{BC'} = -\mu' \mathbf{b}$，其中 $(\lambda', \mu') \neq (\lambda, \mu)$，则 $\overrightarrow{AB} = \overrightarrow{AC'} - \overrightarrow{BC'} = \lambda' \mathbf{a} + \mu' \mathbf{b}$，则 $\lambda, \mu$ 中至少一个不唯一，矛盾，故 $C'$ 不存在。
- 此时称 $L(A; \mathbf{a}), L(B; \mathbf{b})$ **相交。**
- II. 当 $\overrightarrow{AB}$ 与 $\mathbf{a}, \mathbf{b}$ 不共面，此时 $\not\exists \lambda, \mu \in \mathbb{R}, \text{s.t. } \overrightarrow{AB} = \lambda \mathbf{a} + \mu \mathbf{b}$。
- 假设 $\exists C, \text{s.t. } C \in L(A; \mathbf{a}) \cap L(B; \mathbf{b})$，则 $\exists \lambda', \mu', \text{s.t. } \overrightarrow{AC} = \lambda' \mathbf{a}, \overrightarrow{BC} = \mu' \mathbf{b}$，故 $\overrightarrow{AB} = \overrightarrow{AC} - \overrightarrow{BC} = \lambda' \mathbf{a} + (-\mu') \mathbf{b}$。
- 令 $\lambda = \lambda', \mu = -\mu'$，可知 $\lambda, \mu$ 存在，矛盾，于是 $C$ 不存在。故 $L(A; \mathbf{a}) \cap L(B; \mathbf{b}) = \emptyset$。
- 此时称 $L(A; \mathbf{a}), L(B; \mathbf{b})$ **相离**。

#### 直线与平面的关系

对于直线 $L(A; \mathbf{a})$ 和平面 $\Pi (O; \mathbf{b}, \mathbf{c})$：

- (1) 若 $\mathbf{a}, \mathbf{b}, \mathbf{c}$ 共面，此时 $\exists \lambda, \mu, \theta \in \mathbb{R}$ 不全为零，$\text{s.t. } \lambda \mathbf{a} + \mu \mathbf{b} + \theta \mathbf{c} = \mathbf{0}$。若 $\lambda = 0$ 则与 $\mathbf{b}, \mathbf{c}$ 不共线矛盾，故 $\mathbf{a} = -\dfrac{\mu}{\lambda} \mathbf{b} - \dfrac{\theta}{\lambda} \mathbf{c}$。
- I. 当 $A \in \Pi (O; \mathbf{b}, \mathbf{c})$，易证 $L(A; \mathbf{a}) \subset \Pi (O; \mathbf{b}, \mathbf{c})$。
- 此时称 $L(A; \mathbf{a})$ **在** $\Pi (O; \mathbf{b}, \mathbf{c})$ **内**。
- II. 当 $A \not\in \Pi (O; \mathbf{b}, \mathbf{c})$，易证 $L(A; \mathbf{a}) \cap \Pi (O; \mathbf{b}, \mathbf{c}) = \emptyset$，且 $\forall O' \in \Pi (O; \mathbf{b}, \mathbf{c}), L(A; \mathbf{a}) \parallel L(O', \mathbf{a})$。
- 此时称 $L(A; \mathbf{a})$ **在** $\Pi (O; \mathbf{b}, \mathbf{c})$ **外**，且 $L(A; \mathbf{a})$ 与 $\Pi (O; \mathbf{b}, \mathbf{c})$ **平行**（即平面内存在直线的平行线）。
- (2) 若 $\mathbf{a}, \mathbf{b}, \mathbf{c}$ 不共面，结论是 $L(A; \mathbf{a}) \cap \Pi (O; \mathbf{b}, \mathbf{c}) = \{D\}$，此时称 $L(A; \mathbf{a})$ 与 $\Pi (O; \mathbf{b}, \mathbf{c})$ **相交**。
- _这里的证明涉及三维空间的定义。_

[例 1] 求证：$\overrightarrow{AD} = \dfrac{1}{2} (\overrightarrow{AB} + \overrightarrow{AC}) \Leftrightarrow D$ 为 $BC$ 中点。这里**中点**的定义为 $\overrightarrow{BD} + \overrightarrow{CD} = \mathbf{0}$。

证明：$\overrightarrow{AD} = \dfrac{1}{2} (\overrightarrow{AB} + \overrightarrow{AC}) \Leftrightarrow D \Leftrightarrow \overrightarrow{AD} = \dfrac{1}{2} ((\overrightarrow{AD} - \overrightarrow{BD}) + (\overrightarrow{AD} - \overrightarrow{CD})) \Leftrightarrow \overrightarrow{BD} + \overrightarrow{CD} = \mathbf{0} \Leftrightarrow D$ 为 $BC$ 中点。

[例 2] 求证：三角形三条中线交于一点（称为**重心**）。

证明：

- _Motivation：先拿两个中线算出重心位置。_
- 设三角形为 $\Delta ABC$，且 $BC, AC, AB$ 的中点为 $D, E, F$，又设 $AD, BE$ 交于 $G$。
- 由例 1 可知 $\overrightarrow{AD} = \dfrac{1}{2} (\overrightarrow{AB} + \overrightarrow{AC}), \overrightarrow{BE} = \dfrac{1}{2} (\overrightarrow{BA} + \overrightarrow{BC}) = -\overrightarrow{AB} + \dfrac{1}{2} \overrightarrow{AC}, \overrightarrow{CF} = \dfrac{1}{2} (\overrightarrow{CA} + \overrightarrow{CB}) = \dfrac{1}{2} \overrightarrow{AB} - \overrightarrow{AC}$。
- 由直线定义可知 $\exists \lambda, \mu \in \mathbb{R}, \text{s.t. } \overrightarrow{AG} = \lambda \overrightarrow{AD} = \dfrac{\lambda}{2} \overrightarrow{AB} + \dfrac{\lambda}{2} \overrightarrow{AC}, \overrightarrow{BG} = \mu \overrightarrow{BE} = -\mu \overrightarrow{AB} + \dfrac{\mu}{2} \overrightarrow{AC}$。
- 由 $\overrightarrow{AG} = \overrightarrow{AB} + \overrightarrow{BG}$ 可知 $(\dfrac{\lambda}{2} + \mu - 1) \overrightarrow{AB} + (\dfrac{\lambda}{2} - \dfrac{\mu}{2}) \overrightarrow{AC} = \mathbf{0}$。
- 由 $\overrightarrow{AB}, \overrightarrow{AC}$ 不共线可知 $\begin{cases} \dfrac{\lambda}{2} + \mu - 1 = 0 \\ \dfrac{\lambda}{2} - \dfrac{\mu}{2} = 0 \end{cases} \Rightarrow \lambda = \mu = \dfrac{2}{3}$。
- 故 $\overrightarrow{AG} = \dfrac{1}{3} (\overrightarrow{AB} + \overrightarrow{AC})$。接下来有两种想法。
- 法一：_Motivation：再拿两个中线算出重心位置，说明其相等即可。_
- 设 $AD, CF$ 交于 $G'$。
- 同理可得 $AG' = \dfrac{1}{3} (\overrightarrow{AB} + \overrightarrow{AC})$。
- 故 $\overrightarrow{GG'} = \overrightarrow{AG'} - \overrightarrow{AG} = \mathbf{0}$，即 $G, G'$ 重合。
- 法二：_Motivation：只需说明 $G$ 在 $CF$ 上即可。_
- 于是有 $\overrightarrow{CG} = \overrightarrow{AG} - \overrightarrow{AC} = \dfrac{1}{3} \overrightarrow{AB} - \dfrac{2}{3} \overrightarrow{AC}$。
- 故 $\overrightarrow{CG} = \dfrac{2}{3} \overrightarrow{CF}$，即 $G$ 在直线 $CF$ 上。
- 综上，均可得出三角形三条中线 $AD, BE, CF$ 交于一点 $G$。

### 仿射坐标系 Affine Coordinate System

#### 定义：三维空间

对于点 $O$ 和**不共面**向量 $\mathbf{e}_1, \mathbf{e}_2, \mathbf{e}_3$，定义 $V(O; \mathbf{e}_1, \mathbf{e}_2, \mathbf{e}_3) = \{A \mid \overrightarrow{OA} = a_1 \mathbf{e}_1 + a_2 \mathbf{e}_2 + a_3 \mathbf{e}_3, (a_1, a_2, a_3) \in \mathbb{R}^3\}$。

- 注意定义表述中体现的“继承”思想：二维**不共线** $\Rightarrow$ 三维**不共面**。

#### 定理（坐标的唯一性）：对于不共面向量 $\mathbf{e}_1, \mathbf{e}_2, \mathbf{e}_3$ 和三维空间中任意向量 $\mathbf{v}$，$\exists ! (a_1, a_2, a_3) \in \mathbb{R}^3, \text{s.t. } \mathbf{v} = a_1 \mathbf{e}_1 + a_2 \mathbf{e}_2 + a_3 \mathbf{e}_3$。

证明：先证存在、后证唯一即可，略。

- 通过这一定理，我们在**几何**向量这一“几何对象”和**代数**向量这一“代数对象”之间建立了一一映射。

#### 定义：仿射坐标系

定点 $O$ 和**不共面**向量组 $\{\mathbf{e}_1, \mathbf{e}_2, \mathbf{e}_3\}$ 构成三维空间中的一个仿射坐标系，记作 $\{O; \mathbf{e}_1, \mathbf{e}_2, \mathbf{e}_3\}$，其中：

- $O$ 称为该仿射坐标系的原点。
- $\mathbf{e}_1, \mathbf{e}_2, \mathbf{e}_3$ 称为其基向量，$\{\mathbf{e}_1, \mathbf{e}_2, \mathbf{e}_3\}$ 称为一组基。

原点和基向量确定的直线 $L(O; \mathbf{e}_1), L(O; \mathbf{e}_2), L(O; \mathbf{e}_3)$ 称为坐标轴，原点和两个基向量确定的平面 $\Pi (O; \mathbf{e}_1, \mathbf{e}_2), \Pi (O; \mathbf{e}_2, \mathbf{e}_3), \Pi (O; \mathbf{e}_3, \mathbf{e}_1)$ 称为坐标平面。

由上述定理可知：三维空间中任意向量 $\mathbf{v}$ 具有**唯一**分解式 $\mathbf{v} = a_1 \mathbf{e}_1 + a_2 \mathbf{e}_2 + a_3 \mathbf{e}_3$，其中 $(a_1, a_2, a_3) \in \mathbb{R}^3$ 称为 $\mathbf{v}$ 在 $\{O; \mathbf{e}_1, \mathbf{e}_2, \mathbf{e}_3\}$ 下的坐标。

坐标表示也可记作 $\mathbf{v} = (a_1, a_2, a_3) \begin{bmatrix} \mathbf{e}_1 \\ \mathbf{e}_2 \\ \mathbf{e}_3 \end{bmatrix} = \begin{bmatrix} \mathbf{e}_1 & \mathbf{e}_2 & \mathbf{e}_3 \end{bmatrix} \begin{bmatrix} a_1 \\ a_2 \\ a_3 \end{bmatrix}$。

- **注意：这里并非表示行向量与列向量的乘法，因为 $\mathbf{e}_1, \mathbf{e}_2, \mathbf{e}_3$ 是几何向量而非代数向量、没法被塞进矩阵里。**

对于三维空间中任意点 $A$，$\overrightarrow{OA}$ 称为 $A$ 的矢径 / 向径，称 $\overrightarrow{OA}$ 的坐标为 $A$ 的坐标。

我们将平面坐标系中“四象限”的概念拓展到仿射坐标系中“八卦限”的概念：对于坐标 $a_1, a_2, a_3 \neq 0, (a_1, a_2, a_3) \in \mathbb{R}^3$，定义其卦限为 $1 + [a_1 < 0] + [a_2 < 0] 2 + [a_3 < 0] 4$。

- Fun Fact：二仪生四象，四象生八卦。

##### 移动原点

由于几何向量不关心起点，仅仅移动原点不会影响其坐标表示。

对于 $O'(x_0, y_0, z_0) \in V(O; \mathbf{e}_1, \mathbf{e}_2, \mathbf{e}_3)$，易知对于 $\{O; \mathbf{e}_1, \mathbf{e}_2, \mathbf{e}_3\}$ 中坐标为 $(x, y, z)$ 的点，其在 $\{O'; \mathbf{e}_1, \mathbf{e}_2, \mathbf{e}_3\}$ 中的坐标为 $(x - x_0, y - y_0, z - z_0)$。

------

接下来的内容默认在坐标系 $\{O; \mathbf{e}_1, \mathbf{e}_2, \mathbf{e}_3\}$ 下讨论。

#### 从共线与共面关系 Revisit 到平面方程

##### 共线

设几何向量 $\mathbf{a}, \mathbf{b}$ 的坐标分别为 $(a_1, a_2, a_3), (b_1, b_2, b_3)$。

$$
\begin{aligned}
&\mathbf{a}, \mathbf{b} \text{ 共线} \\
\Leftrightarrow &\exists \lambda, \mu \in \mathbb{R} \text{ 非全零}, \text{s.t. } \lambda \mathbf{a} + \mu \mathbf{b} = \mathbf{0} \\
\Leftrightarrow &\exists \lambda, \mu \in \mathbb{R} \text{ 非全零}, \text{s.t. } \lambda (a_1, a_2, a_3) + \mu (b_1, b_2, b_3) = \mathbf{0}_3 \\
\Leftrightarrow & (a_1, a_2, a_3), (b_1, b_2, b_3) \text{ 线性相关}
\end{aligned}
$$

于是我们将**几何**向量的共线问题转换为了**代数**向量的线性相关问题。

##### 共面

设几何向量 $\mathbf{a}, \mathbf{b}, \mathbf{c}$ 的坐标分别为 $(a_1, a_2, a_3), (b_1, b_2, b_3), (c_1, c_2, c_3)$。

同共线情况的讨论可知 $\mathbf{a}, \mathbf{b}, \mathbf{c}$ 共面 $\Leftrightarrow (a_1, a_2, a_3), (b_1, b_2, b_3), (c_1, c_2, c_3)$ 线性相关。

进一步地，考虑线性相关性与行列式的关系，可知其还等价于 $\begin{vmatrix} a_1 & a_2 & a_3 \\ b_1 & b_2 & b_3 \\ c_1 & c_2 & c_3 \end{vmatrix} = 0$。

##### 平面方程

在上面对共面条件的讨论中，补充 $\mathbf{a}, \mathbf{b}$ 不共线。

此时三维空间内一点 $P(x, y, z)$ 在 $\Pi (O; \mathbf{a}, \mathbf{b})$ 上等价于 $\mathbf{a}, \mathbf{b}, (x, y, z)$ 共线，即 $\begin{vmatrix} a_1 & a_2 & a_3 \\ b_1 & b_2 & b_3 \\ x & y & z \end{vmatrix} = 0$。

Laplace 展开可得 $\begin{vmatrix} a_2 & a_3 \\ b_2 & b_3 \end{vmatrix} x - \begin{vmatrix} a_1 & a_3 \\ b_1 & b_3 \end{vmatrix} y + \begin{vmatrix} a_1 & a_2 \\ b_1 & b_2 \end{vmatrix} z = 0$。这就是 $\Pi (O; \mathbf{a}, \mathbf{b})$ 的平面方程。

#### 定比分点

- **注意：由于我们现在对向量“大小”的度量是通过范数进行的，目前只能利用“齐次性”，故仅能讨论共线向量的情况。**

设有不重合的 $A, B$ 两点的**内点** $M$，使得 $|\overrightarrow{AM}| : |\overrightarrow{MB}| = \lambda : \mu$（即“按比例切分”），其中 $\lambda, \mu > 0$。

- 这里内点的定义为 $\exists \alpha \in (0, 1), \text{s.t. } \overrightarrow{AM} = \alpha \overrightarrow{AB}$，即”$M$ 在线段 $AB$ 上且非其端点“。

由数乘的定义可知 $\overrightarrow{AM} = \dfrac{|\overrightarrow{AM}|}{|\overrightarrow{AB}|} \cdot \overrightarrow{AB} = \dfrac{|\overrightarrow{AM}|}{|\overrightarrow{AM}| + |\overrightarrow{MB}|} \cdot \overrightarrow{AB} = \dfrac{\lambda}{\lambda + \mu} \cdot \overrightarrow{AB}$。

因此 $\overrightarrow{OM} = \overrightarrow{OA} + \overrightarrow{AM} = \dfrac{\mu}{\lambda + \mu} \cdot \overrightarrow{OA} + \dfrac{\lambda}{\lambda + \mu} \cdot \overrightarrow{OB}$。

设 $A(x_a, y_a, z_a), B(x_b, y_b, z_b), M(x_m, y_m, z_m)$，又令 $\alpha = \dfrac{\lambda}{\lambda + \mu} \in (0, 1)$，则有 $(x_m, y_m, z_m) = (1 - \alpha) (x_a, y_a, z_a) + \alpha (x_b, y_b, z_b)$。

#### 定义：内积

在三维空间 $V$ 上，定义内积为一个函数 $V \times V \to \mathbb{R}$，记作 $(\mathbf{a}, \mathbf{b})$，满足：

- (1) 对称性：$(\mathbf{a}, \mathbf{b}) = (\mathbf{b}, \mathbf{a})$。
- (2) 正定性：$(\mathbf{a}, \mathbf{a}) \geq 0$ 且 $(\mathbf{a}, \mathbf{a}) = 0 \Leftrightarrow \mathbf{a} = 0$。
- (3) 线性性：$(\lambda \mathbf{a} + \mu \mathbf{b}, \mathbf{c}) = \lambda (\mathbf{a}, \mathbf{c}) + \mu (\mathbf{b}, \mathbf{c})$。

一个给出内积定义的线性空间被称作内积空间。

注：

- 内积函数的值域也可以是 $\mathbb{C}$ 或其他数域 $\mathbb{F}$。
- 对于 $\mathbb{C}$ 的情况，对称性应当改为 $(\mathbf{a}, \mathbf{b}) = \overline{(\mathbf{b}, \mathbf{a})}$，且 $(\mathbf{a}, \mathbf{a}) = \overline{(\mathbf{a}, \mathbf{a})} \Rightarrow (\mathbf{a}, \mathbf{a}) \in \mathbb{R}$。

#### 定理（内积导出范数）：$||\mathbf{a}|| = \sqrt{(\mathbf{a}, \mathbf{a})}$ 定义了 $V$ 上的一个范数 $||\mathbf{a}|| : V \to \mathbb{R}$。

证明（仅证三角形不等式）：

- _Motivation：线性性蕴含了内积对加法的分配律。想一想为什么叫内**积**？_
- 欲证：
$$
\begin{aligned}
\forall \mathbf{a}, \mathbf{b} \in V, &||\mathbf{a} \pm \mathbf{b}|| \leq ||\mathbf{a}|| + ||\mathbf{b}|| \\
\Leftrightarrow &(\mathbf{a} \pm \mathbf{b}, \mathbf{a} \pm \mathbf{b}) \leq (\mathbf{a}, \mathbf{a}) + 2 \sqrt{(\mathbf{a}, \mathbf{a}) (\mathbf{b}, \mathbf{b})} + (\mathbf{b}, \mathbf{b}) \\
\Leftrightarrow &\pm (\mathbf{a}, \mathbf{b}) \leq \sqrt{(\mathbf{a}, \mathbf{a}) (\mathbf{b}, \mathbf{b})} \\
\Leftrightarrow &|(\mathbf{a}, \mathbf{b})| \leq \sqrt{(\mathbf{a}, \mathbf{a}) (\mathbf{b}, \mathbf{b})}
\end{aligned}
$$

- _Motivation：仿照柯西不等式的证明。_
- 由正定性可知 $\forall \lambda \in \mathbb{R}, ||\mathbf{a} + \lambda \mathbf{b}|| \geq 0 \Leftrightarrow (\mathbf{b}, \mathbf{b}) \lambda^2 + 2 (\mathbf{a}, \mathbf{b}) \lambda + (\mathbf{a}, \mathbf{a}) \geq 0$。
- 故 $\Delta = (2(\mathbf{a}, \mathbf{b}))^2 - 4 (\mathbf{b}, \mathbf{b}) (\mathbf{a}, \mathbf{a}) \leq 0 \Leftrightarrow |(\mathbf{a}, \mathbf{b})| \leq \sqrt{(\mathbf{a}, \mathbf{a}) (\mathbf{b}, \mathbf{b})}$，遂得证。

#### 定义：夹角

对于内积空间 $V$ 上的 $\mathbf{a}, \mathbf{b} \neq \mathbf{0}$，定义 $\langle \mathbf{a}, \mathbf{b} \rangle = \arccos \dfrac{(\mathbf{a}, \mathbf{b})}{||\mathbf{a}|| \cdot ||\mathbf{b}||}$。

由于 $(\mathbf{a}, \mathbf{b}) \leq \sqrt{(\mathbf{a}, \mathbf{a}) (\mathbf{b}, \mathbf{b})}$，可知 $\dfrac{(\mathbf{a}, \mathbf{b})}{||\mathbf{a}|| \cdot ||\mathbf{b}||} \in [-1, 1]$，故上面定义的夹角的值域为 $[0, \pi]$。

特别地，当 $\langle \mathbf{a}, \mathbf{b} \rangle = 0$，有 $(\mathbf{a}, \mathbf{b}) = ||\mathbf{a}|| \cdot ||\mathbf{b}||$，令 $\lambda = -\dfrac{||\mathbf{a}||}{||\mathbf{b}||}$ 即得 $||\mathbf{a} + \lambda \mathbf{b}|| = 0$，有 $\mathbf{a} = -\lambda \mathbf{b} = \dfrac{||a||}{||b||} \cdot \mathbf{b}$，故 $\mathbf{a}, \mathbf{b}$ 共线。

#### 定义：向量的垂直 / 正交 Orthogonal

对于内积空间 $V$ 上的 $\mathbf{a}, \mathbf{b}$，定义 $\mathbf{a}, \mathbf{b}$ 垂直当且仅当 $(\mathbf{a}, \mathbf{b}) = 0$。

- 特别地，当 $\mathbf{a}, \mathbf{b}$ 之一为零，上面的定义仍给出 $\mathbf{a}, \mathbf{b}$ 垂直，这样定义的原因在于零向量的方向是任意的。

#### 定理（内积空间上的勾股定理）：内积空间 $V$ 上的 $\mathbf{a}, \mathbf{b}$ 垂直，当且仅当 $||\mathbf{a} + \mathbf{b}||^2 = ||\mathbf{a}||^2 + ||\mathbf{b}||^2$。

证明：

- $||\mathbf{a} + \mathbf{b}||^2 = (\mathbf{a}, \mathbf{a}) + (\mathbf{b}, \mathbf{b}) + 2 (\mathbf{a}, \mathbf{b}), ||\mathbf{a}||^2 + ||\mathbf{b}||^2 = (\mathbf{a}, \mathbf{a}) + (\mathbf{b}, \mathbf{b})$。
- 故 $||\mathbf{a} + \mathbf{b}||^2 = ||\mathbf{a}||^2 + ||\mathbf{b}||^2 \Leftrightarrow (\mathbf{a}, \mathbf{b}) = 0 \Leftrightarrow \mathbf{a}, \mathbf{b}$ 垂直。

#### 定义：投影 Projection

考虑怎样对非零的 $\mathbf{b}$ 定义“$\mathbf{a}$ 投影在 $\mathbf{b}$ 上”的结果：

- 只要 $\lambda \neq 0$（不丢失方向信息），$\mathbf{a}$ 在 $\mathbf{b}$ 上的投影应当与 $\mathbf{a}$ 在 $\lambda \mathbf{b}$ 上的投影一致。
- $\mathbf{a}$ 在 $\mathbf{b}$ 上的投影乘上 $\lambda$ 应当与 $\lambda \mathbf{a}$ 在 $\mathbf{b}$ 上的投影一致。

------

对内积空间 $V$ 上的 $\mathbf{a}, \mathbf{b}$，当 $\mathbf{b} \neq \mathbf{0}$，定义 $\mathbf{a}$ 在 $\mathbf{b}$ 上的投影**向量** $\mathbb{P}_{\mathbf{b}}(\mathbf{a}) = \dfrac{(\mathbf{a}, \mathbf{b})}{|\mathbf{b}|} \cdot \dfrac{\mathbf{b}}{|\mathbf{b}|} = (\mathbf{a}, \dfrac{\mathbf{b}}{|\mathbf{b}|^2}) \mathbf{b}$，又记作 $\mathbf{a}_{\mathbf{b}}^{\parallel}$。在此基础上，令 $\mathbf{a}_{\mathbf{b}}^{\perp} = \mathbf{a} - \mathbf{a}_{\mathbf{b}}^{\parallel}$。易证 $\mathbf{a}_{\mathbf{b}}^{\parallel} \parallel \mathbf{b}, \mathbf{a}_{\mathbf{b}}^{\perp} \perp \mathbf{b}$。

#### 定义：直线的垂直 / 正交

称 $L(A; \mathbf{a}), L(B, \mathbf{b})$ 垂直 / 正交，若 $\mathbf{a}, \mathbf{b}$ 正交。

- 这里“直线”的表述隐含了 $\mathbf{a}, \mathbf{b} \neq \mathbf{0}$。

#### 定义：直线与平面的垂直

称 $L(A; \mathbf{a}), \Pi (O; \mathbf{b}, \mathbf{c})$ 垂直，若前者与后者上的每一条线都垂直。

#### 定理（线面垂直的判定）：$L(A; \mathbf{a}) \perp \Pi (O; \mathbf{b}, \mathbf{c})$ 当且仅当 $\exists \Pi (O; \mathbf{b}, \mathbf{c})$ 上的不共线向量 $\mathbf{x}, \mathbf{y}, \text{s.t. } L(A; \mathbf{a}) \perp \mathbf{x}, L(A; \mathbf{a}) \perp \mathbf{y}$。

证明：

- 必要性：由定义易知。
- 充分性：$\forall L (O'; \mathbf{d}) \subset \Pi (O; \mathbf{b}, \mathbf{c})$，首先显然有 $\Pi (O; \mathbf{b}, \mathbf{c}) = \Pi (O'; \mathbf{x}, \mathbf{y})$ 且 $\mathbf{d}$ 非零。
- 于是 $\exists \lambda, \mu \in \mathbb{R}, \text{s.t. } \mathbf{d} = \lambda \mathbf{x} + \mu \mathbf{y}$。
- 由 $L(A; \mathbf{a}) \perp \mathbf{x}, L(A; \mathbf{a}) \perp \mathbf{y}$ 可知 $(\mathbf{a}, \mathbf{x}) = (\mathbf{a}, \mathbf{y}) = 0$。
- 故 $(\mathbf{a}, \mathbf{d}) = \lambda (\mathbf{a}, \mathbf{x}) + \mu (\mathbf{a}, \mathbf{y}) = 0$，又由 $\mathbf{d}$ 非零可知 $L(A; \mathbf{a}) \perp L(O'; \mathbf{d})$。
- 由 $L(O'; \mathbf{d})$ 的任意性和线面垂直的定义可知 $L(A; \mathbf{a}) \perp \Pi (O; \mathbf{b}, \mathbf{c})$。

#### 定理（内积空间上的余弦定理）：$||\mathbf{a} - \mathbf{b}||^2 = ||\mathbf{a}||^2 + ||\mathbf{b}||^2 - 2 ||\mathbf{a}|| \cdot ||\mathbf{b}|| \cos \langle a, b \rangle$。

证明略。

#### 垂心

- **“坐标系”的抽象：我们不想去关心具体的“坐标”状物这样的 "dirty work"，反而是更期待利用内积的性质。**

考察三角形 $\Delta ABC$，从 $B$ 出发向 $AC$ 作垂线、从 $C$ 出发向 $AB$ 作垂线，两者交于 $H$。

- 事实上还需要说明 $H$ 存在，即两条垂线不相平行。这里略去过程。

以 $H$ 为原点建立坐标系，设 $A, B, C$ 的矢径分别为 $\mathbf{a}, \mathbf{b}, \mathbf{c}$，则：

- $BH \perp AC \Leftrightarrow (\mathbf{b}, \mathbf{a} - \mathbf{c}) = 0 \Leftrightarrow (\mathbf{b}, \mathbf{a}) = (\mathbf{b}, \mathbf{c})$。
- $CH \perp AB \Leftrightarrow (\mathbf{c}, \mathbf{a} - \mathbf{b}) = 0 \Leftrightarrow (\mathbf{c}, \mathbf{a}) = (\mathbf{c}, \mathbf{b})$。

而我们只需证明 $AH \perp BC \Leftrightarrow (\mathbf{a}, \mathbf{b} - \mathbf{c}) \Leftrightarrow (\mathbf{a}, \mathbf{b}) = (\mathbf{a}, \mathbf{c})$。

由内积的对称性和上面的两个等式可知 $(\mathbf{a}, \mathbf{b}) = (\mathbf{b}, \mathbf{a}) = (\mathbf{b}, \mathbf{c}) = (\mathbf{c}, \mathbf{b}) = (\mathbf{c}, \mathbf{a}) = (\mathbf{a}, \mathbf{c})$，遂得证。

#### 角平分线定理

考察三角形 $\Delta ABC$，作角 $A$ 的平分线交 $BC$ 于 $D$。

- _Motivation：我们想要方便地表出 $\overrightarrow{AB}, \overrightarrow{AC}, \overrightarrow{AD}$，这样就好表示角度了。_

以 $A$ 为原点建立坐标系，设 $B, C$ 的矢径分别为 $\mathbf{b}, \mathbf{c}$。

由于 $D$ 在 $B, C$ 之间，考虑定比分点。设 $|\overrightarrow{BD}| : |\overrightarrow{DC}| = \lambda : (1 - \lambda)$，则其矢径为 $\mathbf{d} = (1 - \lambda) \mathbf{b} + \lambda \mathbf{c}$。

由角平分线的定义可知：

$$
\begin{aligned}
&\langle \mathbf{b}, \mathbf{d} \rangle = \langle \mathbf{c}, \mathbf{d} \rangle \\
\Leftrightarrow &\dfrac{(\mathbf{b}, \mathbf{d})}{||\mathbf{b}|| \cdot ||\mathbf{d}||} = \dfrac{(\mathbf{c}, \mathbf{d})}{||\mathbf{c}|| \cdot ||\mathbf{d}||} \\
\Leftrightarrow &\dfrac{(\mathbf{b}, (1 - \lambda) \mathbf{b} + \lambda \mathbf{c})}{||\mathbf{b}||} = \dfrac{(\mathbf{c}, (1 - \lambda) \mathbf{b} + \lambda \mathbf{c})}{||\mathbf{c}||} \\
\Leftrightarrow &(||\mathbf{b}|| \cdot ||\mathbf{c}|| - (\mathbf{b}, \mathbf{c})) ((1 - \lambda) ||\mathbf{b}|| - \lambda ||\mathbf{c}||) = 0
\end{aligned}
$$

由 $AB, AC$ 不共线可知 $||\mathbf{b}|| \cdot ||\mathbf{c}|| - (\mathbf{b}, \mathbf{c}) \neq 0$，故 $(1 - \lambda) ||\mathbf{b}|| - \lambda ||\mathbf{c}|| = 0$。

于是 $\dfrac{|AB|}{|AC|} = \dfrac{||\mathbf{b}||}{||\mathbf{c}||} = \dfrac{\lambda}{1 - \lambda} = \dfrac{|BD|}{|DC|}$，遂得证。

#### 三垂线定理

内容：若 $L(C; \mathbf{c}) \subset \Pi (O; \mathbf{a}, \mathbf{b})$，将 $L(D; \mathbf{d}) \not\subset \Pi (O; \mathbf{a}, \mathbf{b})$ 投影到 $\Pi (O; \mathbf{a}, \mathbf{b})$ 上得到 $L(D'; \mathbf{d}')$，则 $L(C; \mathbf{c}) \perp L(D, \mathbf{d}) \Leftrightarrow L(C; \mathbf{c}) \perp L(D', \mathbf{d}')$。

证明：在平面上和垂直于平面两个方向分解向量即可，略。

#### 外心

考察三角形 $\Delta ABC$，作 $AB, AC$ 的中垂线交于 $O$。

- 跟前面一样，需要说明 $H$ 存在。这里仍略去过程。

以 $O$ 为原点建立坐标系，设 $A, B, C$ 的矢径分别为 $\mathbf{a}, \mathbf{b}, \mathbf{c}$，于是 $AB, AC, BC$ 的中点 $D, E, F$ 的矢径分别为 $\dfrac{\mathbf{a} + \mathbf{b}}{2}, \dfrac{\mathbf{a} + \mathbf{c}}{2}, \dfrac{\mathbf{b} + \mathbf{c}}{2}$，则：

- $DO \perp AB \Leftrightarrow (\dfrac{\mathbf{a} + \mathbf{b}}{2}, \mathbf{a} - \mathbf{b}) = 0 \Leftrightarrow ||\mathbf{a}|| = ||\mathbf{b}||$。
- $EO \perp AC \Leftrightarrow (\dfrac{\mathbf{a} + \mathbf{c}}{2}, \mathbf{a} - \mathbf{c}) = 0 \Leftrightarrow ||\mathbf{a}|| = ||\mathbf{c}||$。

因此 $||\mathbf{b}|| = ||\mathbf{a}|| = ||\mathbf{c}||$，同上可推知 $FO \perp BC$，遂得证。

#### 内积空间中的仿射坐标系

对于内积空间 $V$ 上的 $\mathbf{a}, \mathbf{b}$，设 $\mathbf{a} = a_1 \mathbf{e}_1 + a_2 \mathbf{e}_2 + a_3 \mathbf{e}_3, \mathbf{b} = b_1 \mathbf{e}_1 + b_2 \mathbf{e}_2 + b_3 \mathbf{e}_3$，则由**线性性**可知 $(\mathbf{a}, \mathbf{b}) = \displaystyle\sum_{i = 1}^3 \sum_{j = 1}^3 a_i \cdot (\mathbf{e}_i, \mathbf{e}_j) \cdot b_j$。

- _Motivation：诶，这个不是枚举路径 $(1 \to) i \to j (\to 1)$ 吗？_

注意到该内积还可以被这样表出：

$$
(\mathbf{a}, \mathbf{b}) = \begin{bmatrix} a_1 & a_2 & a_3 \end{bmatrix} \begin{bmatrix} (\mathbf{e}_1, \mathbf{e}_1) & (\mathbf{e}_1, \mathbf{e}_2) & (\mathbf{e}_1, \mathbf{e}_3) \\ (\mathbf{e}_2, \mathbf{e}_1) & (\mathbf{e}_2, \mathbf{e}_2) & (\mathbf{e}_2, \mathbf{e}_3) \\ (\mathbf{e}_3, \mathbf{e}_1) & (\mathbf{e}_3, \mathbf{e}_2) & (\mathbf{e}_3, \mathbf{e}_3) \end{bmatrix} \begin{bmatrix} b_1 \\ b_2 \\ b_3 \end{bmatrix}
$$

可以发现该放射坐标系中坐标与内积的关系由中间这个 $3 \times 3$ 的矩阵决定。我们称之为度量阵，记作 $\mathbf{G}$。

- Fun Fact：内积空间的“自由度”不会超过 $\mathbb{R}^6$（当然，对“内积”的要求会给出额外的限制）。

当 $\mathbf{G} = \mathbf{I}_3$，我们便回到了**基向量正交且均为单位长度**的情况，也就是高中时我们在立体几何问题中所建的坐标系。我们称这样的一组基为单位正交基。
